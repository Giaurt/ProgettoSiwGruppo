<!DOCTYPE html>
<html>

<head>
    <title>
        TrueFeedback
    </title>
    <!--     FONT AWESOME     -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <link rel="stylesheet" href="/css/main-style.css"/>
    <link rel="stylesheet" href="/css/topbar.css"/>
    <link rel="stylesheet" href="/css/search-bar.css"/>
    <link rel="stylesheet" href="/css/products.css"/>
    <!-- TITLE FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playwrite+ES+Deco:wght@100..400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/index-menu-button.css"/>
</head>

<body>
<div class="main-container">
    <div class="topbar">
        <a href="/">
            <div class="title">
                TrueFeedback
            </div>
        </a>

        <div class="new-product"><a href="/newproduct">Aggiungi un prodotto</a></div>

        <div class="userInfo">
            <div th:if="${userDetails}">
                <span th:text="${userDetails.username}"></span>
                <a href="/logout">Logout</a>
            </div>
            <div th:unless="${userDetails}">
                <a href="/login">Login</a>
            </div>
        </div>
    </div>

    <div class="search-container">
        <div class="box">
            <form th:action="@{/search}" method="POST">
                <input type="text" class="search-bar-input" name="keyword" onmouseout="this.value = ''; this.blur();">
            </form>
            <i class="fas fa-search"></i>
        </div>
    </div>

    <div class="filter">
        Filter Placeholder
    </div>

    <div class="product-container">

        <div class="menu">

            <div class="category-button">
                <div class="category-text">
                    Attrezzi
                </div>
            </div>
            <div class="category-button">
                <div class="category-text">
                    Attrezzi
                </div>
            </div>
            <div class="category-button">
                <div class="category-text">
                    Attrezzi
                </div>
            </div>



        </div>

        <div class="products-grid" th:if="${products.isEmpty()}">
            Non ci sono prodotti nel sistema
        </div>
        <div class="products-grid" th:each="product : ${products}">
            <a th:href="@{'/products/' + ${product.id}}">
                <div class="product" >
                    <img th:src="@{'data:image/jpeg; base64, '+${product.image.generateBase64Image()}}"></img>
                    <!--                <img th:src="${product.urlImage}" alt="Product Image"/>-->
                    <div class="prod-name" th:text="${product.name}">Name</div>
            </a>
        </div>
    </div>
</div>
</div>
</body>

</html>