<!DOCTYPE html>
<html>

<head>
	<title>
		TrueFeedback
	</title>
	<link rel="stylesheet" href="/css/main-style.css"/>
	<link rel="stylesheet" href="/css/product.css"/>
</head>

<body>
	
	    <div class="main-container">
        <div class="topbar">
            <a href="/">
                <div class="title">
                    TrueFeedback
                </div>
            </a>
            <div class="userInfo">
                <div th:if="${userDetails}">
                    <span th:text="${userDetails.username}"></span>
                    <a href="/logout">Logout</a>
                </div>
                <div th:unless="${userDetails}">
                    <a href="/login">Login</a>
                </div>
            </div>
        </div>
	
	<div class="product-container"></div>
	
	<div th:if="${product}">
		
		<div class="product-name" th:text="${product.name}"></div>
		<div class="product-brand" >DeWALT</div>
		
		<div class="product-image">
			<img class="image" th:src="@{'data:image/jpeg; base64, '+${product.image.generateBase64Image()}}"></img>
			<div class="product-description" >
			<div class="stars">
				
				
				<div class="rating">
					  <input value="5" name="rating" id="star5" type="radio" th:checked="${averageRating == 5}" disabled>
					  <label for="star5"></label>
					  <input value="4" name="rating" id="star4" type="radio" th:checked="${averageRating == 4}" disabled>
					  <label for="star4"></label>
					  <input value="3" name="rating" id="star3" type="radio" th:checked="${averageRating == 3}" disabled>
					  <label for="star3"></label>
					  <input value="2" name="rating" id="star2" type="radio" th:checked="${averageRating == 2}" disabled>
					  <label for="star2"></label>
					  <input value="1" name="rating" id="star1" type="radio" th:checked="${averageRating == 1}" disabled>
					  <label for="star1"></label>
				</div>
				
				
				
				
				
			</div>
			<div class="text" th:text="${product.description}"></div>
			</div>
		</div>
		
		
		
		<div class="review-container">Recensioni
			
			<div class="reviews">
				
				<div class="add-review" >
					
					
					
					<div class="review-add-box">
						
						<div th:if="${userDetails}">
						
						Aggiungi la tua recensione
						
						<br>
						
							<a th:href="@{'/formNewReview/' + ${product.id}}">
								<button class="btn" type="submit">Aggiungi recensione</button>
							</a>
							
							
						</div>
										    
		    				
						<div th:unless="${userDetails}">
                    		<a href="/login">Devi fare il login per recensire un prodotto</a>
                		</div>
						
						
						
					</div>
					
					
					
				</div>
					
						
						
						<div style="padding-top: 40px" th:if="${product.review == null}">
							Non ci sono ancora recensioni per questo prodotto
						</div>

<!--				<li class="users-review" th:each="review : ${product.review}">-->
					<li class="users-review">
					
					
					
					<div class="flex-item" >
						<div class="review-username">Carlo</div>
						<div class="review-content"> bellissimo trapano giuro</div>
						
					</div>
					
					<div class="flex-item" >
						<div class="review-username">Carlo</div>
						<div class="review-content"> bellissimo trapano giuro</div>
						
					</div>
					
					<div class="flex-item" >
						<div class="review-username">Carlo</div>
						<div class="review-content"> bellissimo trapano giuro</div>
						
					</div>
					
					<div class="flex-item" >
						<div class="review-username">Carlo</div>
						<div class="review-content"> bellissimo trapano giuro</div>
						
					</div>
					
					
					
				</li>
						
						

				
						
				
			</div>
			
			
			
			
		</div>
		
		
		
	 
	
	

	
	
	</div>


    </div>
</body>

</html>