<!DOCTYPE html>
<html>

<head>
	<title>
		TrueFeedback
	</title>
	<link rel="stylesheet" href="/css/profile.css"/>
	<link rel="stylesheet" href="/css/topbar.css"/>
</head>

<body>
        <div class="topbar">
        <a class="title" href="/">
            TrueFeedback
        </a>
        <div class="categories-dropdown">
            <button class="dropdown-button">
                <i class="fas fa-bars"></i>
                <h1>Tutte le categorie</h1>
            </button>
            <div class="dropdown-content">
                <div th:each="category : ${categories}">
					<a th:href="@{'/category/' + ${category}}" th:text="${category}"></a>
				</div>
            </div>
        </div>
        <div class="search-container">
            <div class="search-bar">
                <form th:action="@{/search}" method="POST">
                    <input type="text" class="search-bar-input" name="keyword" placeholder="Cerca..." autocomplete="off">
                    <button class="search-bar-button" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>
        </div>
        <div class="userInfo" th:if="${userDetails}">

                <a class="login-icon" href="/profile">
					<img  src="/images/user-white.png" style="width: 60%;">
				</a>
            </div>
            
            
            <div th:unless="${userDetails}">
				<a class="login-icon" href="/login">
					<img  src="/images/login-white.png" style="width: 60%;">
				</a>
						 
            </div>
        </div>
	
	
<!--	<div th:if="${userDetails}">-->
		
		<div class="user" th:text="'Utente: ' + ${credentials.username}">
			
		</div>
		
		<div class="no-review" th:if="${#lists.isEmpty(reviews)}">
		    <a href="/">Non hai ancora lasciato alcuna recensione</a>
		</div>
		
		<li class="users-review" th:each="review : ${reviews}">
			
			<div class="review-product-line">
				
				
									 <div style="display: inline-block;">
										 <a class="flex-item">
								
									
									<div class="username" th:text="${review.nomeUtente}"></div>
                                <div class="rating">
									  <input value="5" name="rating" id="star5" type="radio" th:checked="${review.stars == 5}" disabled>
									  <label for="star5"></label>
									  <input value="4" name="rating" id="star4" type="radio" th:checked="${review.stars == 4}" disabled>
									  <label for="star4"></label>
									  <input value="3" name="rating" id="star3" type="radio" th:checked="${review.stars == 3}" disabled>
									  <label for="star3"></label>
									  <input value="2" name="rating" id="star2" type="radio" th:checked="${review.stars == 2}" disabled>
									  <label for="star2"></label>
									  <input value="1" name="rating" id="star1" type="radio" th:checked="${review.stars == 1}" disabled>
									  <label for="star1"></label>
								</div>


                                <div class="review-text" th:text="${review.descrizione}"></div>
                               
                                
                            </a>
									 </div>
									 
									 <div class="review-product">
								
								<a class="product-brand" th:href="@{'/products/' + ${review.prodotto.id}}">
							                <div  th:text="${review.prodotto.marca} "></div>
							            </a>
										 
										 <a class="product-name" th:href="@{'/products/' + ${review.prodotto.id}}">
							                <div  th:text="${review.prodotto.name}"></div>
							            </a>
										 
									 </div>
				
				
				
			</div>
			 
                            
			
		</li>
		
		
		<div class="logout">
			<a href="/logout">LOGOUT
				
			</a>
			
		</div>
		
    
</body>

</html>